/**
 * Copyright (c) 2010 Asa Baylus, http://baylus.com/
 * licensed under the MIT
 */
(function(d){d.fn.extend({iframeFitContent:function(e){var f=new Date;e=d.extend({resize:"both"},e);return this.each(function(){var b=d(this),g=e;d(this).bind("load",function(){b.css({visibility:"hidden"});var a,c;a=b.contents().find("body");a.children().wrapAll("<div id='iframeWrapper"+f.getTime().toString()+"'></div>");c=a.find("#iframeWrapper"+f.getTime().toString());c.css({"padding-top":a.css("margin-top"),"padding-bottom":a.css("margin-bottom"),"padding-left":a.css("margin-left"),"padding-right":a.css("margin-right"), "border-left-width":a.css("border-left-width"),"border-right-width":a.css("border-right-width"),"border-top-width":a.css("border-top-width"),"border-bottom-width":a.css("border-bottom-width"),"border-left-style":a.css("border-left-style"),"border-right-style":a.css("border-right-style"),"border-top-style":a.css("border-top-style"),"border-bottom-style":a.css("border-bottom-style"),"border-left-color":a.css("border-left-color"),"border-right-color":a.css("border-right-color"),"border-top-color":a.css("border-top-color"), "border-bottom-color":a.css("border-bottom-color"),position:"absolute",height:"auto",width:"auto"});a.css({border:"none","margin-top":"0","margin-bottom":"0","margin-left":"0","margin-right":"0"});g.resize!=="width"&&b.height(c.outerHeight(true));g.resize!=="height"&&b.width(c.outerWidth(true));c.css({position:"relative",zoom:"1"});b.css("visibility","visible")})})}})})(jQuery);